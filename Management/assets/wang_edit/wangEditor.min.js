(function(z, m) {
	"object" === typeof exports && "undefined" !== typeof module ? module.exports = m() : "function" === typeof define && define.amd ? define(m) : z.wangEditor = m()
})(this, function() {
	function z(a) {
		return a ? a instanceof HTMLCollection || a instanceof NodeList ? !0 : !1 : !1
	}
	function m(a) {
		if (a) {
			if (a instanceof m) return a;
			this.selector = a;
			var b = a.nodeType,
				c = [];
			9 === b ? c = [a] : 1 === b ? c = [a] : z(a) ? c = a : "string" === typeof a && (a = a.replace("/\n/mg", "").trim(), 0 === a.indexOf("<") ? (c = a, a = document.createElement("div"), a.innerHTML = c, c = a.children) : (c = document.querySelectorAll(a), c = z(c) ? c : [c]));
			a = c.length;
			if (!a) return this;
			for (b = 0; b < a; b++) this[b] = c[b];
			this.length = a
		}
	}
	function e(a) {
		return new m(a)
	}
	function x(a, b) {
		var c = void 0,
			d;
		for (c in a) if (a.hasOwnProperty(c) && (d = b.call(a, c, a[c]), !1 === d)) break
	}
	function B(a, b) {
		var c, d, f = a.length || 0;
		for (c = 0; c < f && (d = a[c], d = b.call(a, d, c), !1 !== d); c++);
	}
	function l(a) {
		return a + Math.random().toString().slice(2)
	}
	function y(a) {
		return null == a ? "" : a.replace(/</gm, "&lt;").replace(/>/gm, "&gt;").replace(/"/gm, "&quot;")
	}
	function C(a) {
		this.editor = a;
		this.$elem = e('<div class="w-e-menu">\n <i class="w-e-icon-bold"><i/>\n </div>');
		this.type = "click";
		this._active = !1
	}
	function t(a, b) {
		var c = this,
			d = a.editor;
		this.menu = a;
		this.opt = b;
		a = e('<div class="w-e-droplist"></div>');
		var f = b.$title,
			g = void 0;
		f && (g = f.html(), g = v(d, g), f.html(g), f.addClass("w-e-dp-title"), a.append(f));
		var f = b.list || [],
			h = b.onClick || ea,
			r = e('<ul class="' + ("list" === (b.type || "list") ? "w-e-list" : "w-e-block") + '"></ul>');
		a.append(r);
		f.forEach(function(a) {
			var b = a.$elem,
				f = b.html(),
				f = v(d, f);
			b.html(f);
			var g = a.value;
			a = e('<li class="w-e-item"></li>');
			b && (a.append(b), r.append(a), b.on("click", function(a) {
				h(g);
				c.hideTimeoutId = setTimeout(function() {
					c.hide()
				}, 0)
			}))
		});
		a.on("mouseleave", function(a) {
			c.hideTimeoutId = setTimeout(function() {
				c.hide()
			}, 0)
		});
		this.$container = a;
		this._show = this._rendered = !1
	}
	function D(a) {
		var b = this;
		this.editor = a;
		this.$elem = e('<div class="w-e-menu"><i class="w-e-icon-header"><i/></div>');
		this.type = "droplist";
		this._active = !1;
		this.droplist = new t(this, {
			width: 100,
			$title: e("<p>设置文字大小</p>"),
			type: "list",
			list: [{
				$elem: e('<p class="font-12">12像素</p>'),
				value: "12"
			}, {
				$elem: e('<p class="font-14">14像素</p>'),
				value: "14"
			}, {
				$elem: e('<p class="font-16">16像素</p>'),
				value: "16"
			}, {
				$elem: e('<p class="font-18">18像素</p>'),
				value: "18"
			}, {
				$elem: e('<p class="font-20">20像素</p>'),
				value: "20"
			}, {
				$elem: e('<p class="font-22">22像素</p>'),
				value: "22"
			}],
			onClick: function(a) {
				b._command(a)
			}
		})
	}
	function q(a, b) {
		this.menu = a;
		this.opt = b
	}
	function E(a) {
		this.editor = a;
		this.$elem = e('<div class="w-e-menu"><i class="w-e-icon-link"><i/></div>');
		this.type = "panel";
		this._active = !1
	}
	function F(a) {
		this.editor = a;
		this.$elem = e('<div class="w-e-menu">\n     <i class="w-e-icon-italic"><i/>\n </div>');
		this.type = "click";
		this._active = !1
	}
	function G(a) {
		this.editor = a;
		this.$elem = e('<div class="w-e-menu">\n     <i class="w-e-icon-redo"><i/>\n </div>');
		this.type = "click";
		this._active = !1
	}
	function H(a) {
		this.editor = a;
		this.$elem = e('<div class="w-e-menu">\n     <i class="w-e-icon-strikethrough"><i/>\n </div>');
		this.type = "click";
		this._active = !1
	}
	function I(a) {
		this.editor = a;
		this.$elem = e('<div class="w-e-menu">\n     <i class="w-e-icon-underline"><i/>\n </div>');
		this.type = "click";
		this._active = !1
	}
	function J(a) {
		this.editor = a;
		this.$elem = e('<div class="w-e-menu">\n     <i class="w-e-icon-undo"><i/>\n </div>');
		this.type = "click";
		this._active = !1
	}
	function K(a) {
		var b = this;
		this.editor = a;
		this.$elem = e('<div class="w-e-menu"><i class="w-e-icon-list2"><i/></div>');
		this.type = "droplist";
		this._active = !1;
		this.droplist = new t(this, {
			width: 120,
			$title: e("<p>设置列表</p>"),
			type: "list",
			list: [{
				$elem: e('<span><i class="w-e-icon-list-numbered"></i> 有序列表</span>'),
				value: "insertOrderedList"
			}, {
				$elem: e('<span><i class="w-e-icon-list2"></i> 无序列表</span>'),
				value: "insertUnorderedList"
			}],
			onClick: function(a) {
				b._command(a)
			}
		})
	}
	function L(a) {
		var b = this;
		this.editor = a;
		this.$elem = e('<div class="w-e-menu"><i class="w-e-icon-paragraph-left"><i/></div>');
		this.type = "droplist";
		this._active = !1;
		this.droplist = new t(this, {
			width: 100,
			$title: e("<p>对齐方式</p>"),
			type: "list",
			list: [{
				$elem: e('<span><i class="w-e-icon-paragraph-left"></i> 靠左</span>'),
				value: "justifyLeft"
			}, {
				$elem: e('<span><i class="w-e-icon-paragraph-center"></i> 居中</span>'),
				value: "justifyCenter"
			}, {
				$elem: e('<span><i class="w-e-icon-paragraph-right"></i> 靠右</span>'),
				value: "justifyRight"
			}],
			onClick: function(a) {
				b._command(a)
			}
		})
	}
	function M(a) {
		var b = this;
		this.editor = a;
		this.$elem = e('<div class="w-e-menu"><i class="w-e-icon-pencil2"><i/></div>');
		this.type = "droplist";
		this._active = !1;
		this.droplist = new t(this, {
			width: 120,
			$title: e("<p>文字颜色</p>"),
			type: "inline-block",
			list: [{
				$elem: e('<i style="color:#000000;" class="w-e-icon-pencil2"></i>'),
				value: "#000000"
			}, {
				$elem: e('<i style="color:#eeece0;" class="w-e-icon-pencil2"></i>'),
				value: "#eeece0"
			}, {
				$elem: e('<i style="color:#1c487f;" class="w-e-icon-pencil2"></i>'),
				value: "#1c487f"
			}, {
				$elem: e('<i style="color:#4d80bf;" class="w-e-icon-pencil2"></i>'),
				value: "#4d80bf"
			}, {
				$elem: e('<i style="color:#c24f4a;" class="w-e-icon-pencil2"></i>'),
				value: "#c24f4a"
			}, {
				$elem: e('<i style="color:#8baa4a;" class="w-e-icon-pencil2"></i>'),
				value: "#8baa4a"
			}, {
				$elem: e('<i style="color:#7b5ba1;" class="w-e-icon-pencil2"></i>'),
				value: "#7b5ba1"
			}, {
				$elem: e('<i style="color:#46acc8;" class="w-e-icon-pencil2"></i>'),
				value: "#46acc8"
			}, {
				$elem: e('<i style="color:#f9963b;" class="w-e-icon-pencil2"></i>'),
				value: "#f9963b"
			}, {
				$elem: e('<i style="color:#ffffff;" class="w-e-icon-pencil2"></i>'),
				value: "#ffffff"
			}],
			onClick: function(a) {
				b._command(a)
			}
		})
	}
	function N(a) {
		var b = this;
		this.editor = a;
		this.$elem = e('<div class="w-e-menu"><i class="w-e-icon-paint-brush"><i/></div>');
		this.type = "droplist";
		this._active = !1;
		this.droplist = new t(this, {
			width: 120,
			$title: e("<p>背景色</p>"),
			type: "inline-block",
			list: [{
				$elem: e('<i style="color:#000000;" class="w-e-icon-paint-brush"></i>'),
				value: "#000000"
			}, {
				$elem: e('<i style="color:#eeece0;" class="w-e-icon-paint-brush"></i>'),
				value: "#eeece0"
			}, {
				$elem: e('<i style="color:#1c487f;" class="w-e-icon-paint-brush"></i>'),
				value: "#1c487f"
			}, {
				$elem: e('<i style="color:#4d80bf;" class="w-e-icon-paint-brush"></i>'),
				value: "#4d80bf"
			}, {
				$elem: e('<i style="color:#c24f4a;" class="w-e-icon-paint-brush"></i>'),
				value: "#c24f4a"
			}, {
				$elem: e('<i style="color:#8baa4a;" class="w-e-icon-paint-brush"></i>'),
				value: "#8baa4a"
			}, {
				$elem: e('<i style="color:#7b5ba1;" class="w-e-icon-paint-brush"></i>'),
				value: "#7b5ba1"
			}, {
				$elem: e('<i style="color:#46acc8;" class="w-e-icon-paint-brush"></i>'),
				value: "#46acc8"
			}, {
				$elem: e('<i style="color:#f9963b;" class="w-e-icon-paint-brush"></i>'),
				value: "#f9963b"
			}, {
				$elem: e('<i style="color:#ffffff;" class="w-e-icon-paint-brush"></i>'),
				value: "#ffffff"
			}],
			onClick: function(a) {
				b._command(a)
			}
		})
	}
	function O(a) {
		this.editor = a;
		this.$elem = e('<div class="w-e-menu">\n     <i class="w-e-icon-quotes-left"><i/>\n </div>');
		this.type = "click";
		this._active = !1
	}
	function P(a) {
		this.editor = a;
		this.$elem = e('<div class="w-e-menu">\n     <i class="w-e-icon-terminal"><i/>\n </div>');
		this.type = "panel";
		this._active = !1
	}
	function Q(a) {
		this.editor = a;
		this.$elem = e('<div class="w-e-menu">\n     <i class="w-e-icon-happy"><i/>\n </div>');
		this.type = "panel";
		this._active = !1
	}
	function R(a) {
		this.editor = a;
		this.$elem = e('<div class="w-e-menu"><i class="w-e-icon-table2"><i/></div>');
		this.type = "panel";
		this._active = !1
	}
	function S(a) {
		this.editor = a;
		this.$elem = e('<div class="w-e-menu"><i class="w-e-icon-play"><i/></div>');
		this.type = "panel";
		this._active = !1
	}
	function T(a) {
		this.editor = a;
		var b = l("w-e-img");
		this.$elem = e('<div class="w-e-menu" id="' + b + '"><i class="w-e-icon-image"><i/></div>');
		a.imgMenuId = b;
		this.type = "panel";
		this._active = !1
	}
	function U(a) {
		this.editor = a;
		this.menus = {}
	}
	function ca(a) {
		a = a.clipboardData || a.originalEvent && a.originalEvent.clipboardData;
		a = null == a ? window.clipboardData && window.clipboardData.getData("text") : a.getData("text/plain");
		return y(a)
	}
	function fa(a) {
		var b = [];
		if (ca(a)) return b;
		a = (a.clipboardData || a.originalEvent && a.originalEvent.clipboardData || {}).items;
		if (!a) return b;
		x(a, function(a, d) {
			/image/i.test(d.type) && b.push(d.getAsFile())
		});
		return b
	}
	function V(a) {
		this.editor = a
	}
	function W(a) {
		this.editor = a
	}
	function X(a) {
		this.editor = a;
		this._currentRange = null
	}
	function Y(a) {
		this.editor = a;
		this._time = 0;
		this._isRender = this._isShow = !1;
		this._timeoutId = 0;
		this.$textContainer = a.$textContainerElem;
		this.$bar = e('<div class="w-e-progress"></div>')
	}
	function Z(a) {
		this.editor = a
	}
	function aa(a, b) {
		if (null == a) throw Error("错误：初始化编辑器时候未传入任何参数，请查阅文档");
		this.id = "wangEditor-" + ga++;
		this.toolbarSelector = a;
		this.textSelector = b;
		this.customConfig = {}
	}
	m.prototype = {
		constructor: m,
		forEach: function(a) {
			var b;
			for (b = 0; b < this.length; b++) {
				var c = this[b];
				if (!1 === a.call(c, c, b)) break
			}
			return this
		},
		get: function(a) {
			var b = this.length;
			a >= b && (a %= b);
			return e(this[a])
		},
		first: function() {
			return this.get(0)
		},
		last: function() {
			return this.get(this.length - 1)
		},
		on: function(a, b, c) {
			c || (c = b, b = null);
			var d = [],
				d = a.split(/\s+/);
			return this.forEach(function(a) {
				d.forEach(function(d) {
					d && (b ? a.addEventListener(d, function(a) {
						var d = a.target;
						d.matches(b) && c.call(d, a)
					}, !1) : a.addEventListener(d, c, !1))
				})
			})
		},
		off: function(a, b) {
			return this.forEach(function(c) {
				c.removeEventListener(a, b, !1)
			})
		},
		attr: function(a, b) {
			return null == b ? this[0].getAttribute(a) : this.forEach(function(c) {
				c.setAttribute(a, b)
			})
		},
		addClass: function(a) {
			return a ? this.forEach(function(b) {
				var c = void 0;
				b.className ? (c = b.className.split(/\s/), c = c.filter(function(a) {
					return !!a.trim()
				}), 0 > c.indexOf(a) && c.push(a), b.className = c.join(" ")) : b.className = a
			}) : this
		},
		removeClass: function(a) {
			return a ? this.forEach(function(b) {
				var c = void 0;
				b.className && (c = b.className.split(/\s/), c = c.filter(function(b) {
					return (b = b.trim()) && b !== a ? !0 : !1
				}), b.className = c.join(" "))
			}) : this
		},
		css: function(a, b) {
			var c = a + ":" + b + ";";
			return this.forEach(function(b) {
				var d = (b.getAttribute("style") || "").trim(),
					e = void 0,
					h = [];
				d ? (e = d.split(";"), e.forEach(function(a) {
					a = a.split(":").map(function(a) {
						return a.trim()
					});
					2 === a.length && h.push(a[0] + ":" + a[1])
				}), h = h.map(function(b) {
					return 0 === b.indexOf(a) ? c : b
				}), 0 > h.indexOf(c) && h.push(c), b.setAttribute("style", h.join("; "))) : b.setAttribute("style", c)
			})
		},
		show: function() {
			return this.css("display", "block")
		},
		hide: function() {
			return this.css("display", "none")
		},
		children: function() {
			var a = this[0];
			return a ? e(a.children) : null
		},
		append: function(a) {
			return this.forEach(function(b) {
				a.forEach(function(a) {
					b.appendChild(a)
				})
			})
		},
		remove: function() {
			return this.forEach(function(a) {
				if (a.remove) a.remove();
				else {
					var b = a.parentElement;
					b && b.removeChild(a)
				}
			})
		},
		isContain: function(a) {
			return this[0].contains(a[0])
		},
		getSizeData: function() {
			return this[0].getBoundingClientRect()
		},
		getNodeName: function() {
			return this[0].nodeName
		},
		find: function(a) {
			return e(this[0].querySelectorAll(a))
		},
		text: function(a) {
			return a ? this.forEach(function(b) {
				b.innerHTML = a
			}) : this[0].innerHTML.replace(/<.*?>/g, function() {
				return ""
			})
		},
		html: function(a) {
			var b = this[0];
			if (null == a) return b.innerHTML;
			b.innerHTML = a;
			return this
		},
		val: function() {
			return this[0].value.trim()
		},
		focus: function() {
			return this.forEach(function(a) {
				a.focus()
			})
		},
		parent: function() {
			return e(this[0].parentElement)
		},
		parentUntil: function(a, b) {
			var c = document.querySelectorAll(a),
				d = c.length;
			if (!d) return null;
			b = b || this[0];
			if ("BODY" === b.nodeName) return null;
			b = b.parentElement;
			var f;
			for (f = 0; f < d; f++) if (b === c[f]) return e(b);
			return this.parentUntil(a, b)
		},
		equal: function(a) {
			return 1 === a.nodeType ? this[0] === a : this[0] === a[0]
		},
		insertBefore: function(a) {
			var b = e(a)[0];
			return b ? this.forEach(function(a) {
				b.parentNode.insertBefore(a, b)
			}) : this
		},
		insertAfter: function(a) {
			var b = e(a)[0];
			return b ? this.forEach(function(a) {
				var c = b.parentNode;
				c.lastChild === b ? c.appendChild(a) : c.insertBefore(a, b.nextSibling)
			}) : this
		}
	};
	var ha = {
		menus: "head bold italic underline strikeThrough link list justify image video".split(" "),
		zIndex: 1,
		debug: !1,
		linkCheck: function(a, b) {
			return !0
		},
		pasteFilterStyle: !0,
		showLinkImg: !1,
		linkImgCallback: function(a) {},
		uploadImgMaxSize: 5242880,
		uploadImgShowBase64: !1,
		uploadImgServer: "../common/upload.php",
		uploadFileName: "upload_file",
		uploadImgParams: {},
		uploadImgHeaders: {},
		withCredentials: !1,
		uploadImgTimeout: 1E4,
		uploadImgHooks: {
			before: function(a, b, c) {},
			success: function(a, b, c) {},
			fail: function(a, b, c) {},
			error: function(a, b) {},
			timeout: function(a, b) {}
		},
		qiniu: !1
	},
		u = {
			_ua: navigator.userAgent,
			isWebkit: function() {
				return /webkit/i.test(this._ua)
			},
			isIE: function() {
				return "ActiveXObject" in window
			}
		};
	C.prototype = {
		constructor: C,
		onClick: function(a) {
			a = this.editor;
			var b = a.selection.isSelectionEmpty();
			b && a.selection.createEmptyRange();
			a.cmd.do("bold");
			b && (a.selection.collapseRange(), a.selection.restoreSelection())
		},
		tryChangeActive: function(a) {
			a = this.$elem;
			this.editor.cmd.queryCommandState("bold") ? (this._active = !0, a.addClass("w-e-active")) : (this._active = !1, a.removeClass("w-e-active"))
		}
	};
	var v = function(a, b) {
			var c = b;
			(a.config.langArgs || []).forEach(function(a) {
				var b = a.reg,
					d = a.val;
				b.test(c) && (c = c.replace(b, function() {
					return d
				}))
			});
			return c
		},
		ea = function() {};
	t.prototype = {
		constructor: t,
		show: function() {
			this.hideTimeoutId && clearTimeout(this.hideTimeoutId);
			var a = this.menu.$elem,
				b = this.$container;
			if (!this._show) {
				if (this._rendered) b.show();
				else {
					var c = a.getSizeData().height || 0,
						d = this.opt.width || 100;
					b.css("margin-top", c + "px").css("width", d + "px");
					a.append(b);
					this._rendered = !0
				}
				this._show = !0
			}
		},
		hide: function() {
			this.showTimeoutId && clearTimeout(this.showTimeoutId);
			this._show && (this.$container.hide(), this._show = !1)
		}
	};
	D.prototype = {
		constructor: D,
		_command: function(a) {
			var b = this.editor,
				c = b.selection.getSelectionText();
			b.cmd.do("insertHTML", '<p class="font-' + a + '">' + c + "</p>")
		}
	};
	var ia = function() {},
		w = [];
	q.prototype = {
		constructor: q,
		show: function() {
			var a = this,
				b = this.menu;
			if (!(0 <= w.indexOf(b))) {
				var c = b.editor,
					d = e("body"),
					f = c.$textContainerElem,
					g = this.opt,
					h = e('<div class="w-e-panel-container"></div>'),
					r = g.width || 300;
				h.css("width", r + "px").css("margin-left", (0 - r) / 2 + "px");
				r = e('<i class="w-e-icon-close w-e-panel-close"></i>');
				h.append(r);
				r.on("click", function() {
					a.hide()
				});
				var l = e('<ul class="w-e-panel-tab-title"></ul>'),
					k = e('<div class="w-e-panel-tab-content"></div>');
				h.append(l).append(k);
				(r = g.height) && k.css("height", r + "px").css("overflow-y", "auto");
				var g = g.tabs || [],
					q = [],
					m = [];
				g.forEach(function(a, b) {
					if (a) {
						var d = a.title || "";
						a = a.tpl || "";
						d = v(c, d);
						a = v(c, a);
						var f = e('<li class="w-e-item">' + d + "</li>");
						l.append(f);
						var g = e(a);
						k.append(g);
						f._index = b;
						q.push(f);
						m.push(g);
						0 === b ? (f._active = !0, f.addClass("w-e-active")) : g.hide();
						f.on("click", function(a) {
							f._active || (q.forEach(function(a) {
								a._active = !1;
								a.removeClass("w-e-active")
							}), m.forEach(function(a) {
								a.hide()
							}), f._active = !0, f.addClass("w-e-active"), g.show())
						})
					}
				});
				h.on("click", function(a) {
					a.stopPropagation()
				});
				d.on("click", function(b) {
					a.hide()
				});
				f.append(h);
				g.forEach(function(b, c) {
					b && (b.events || []).forEach(function(b) {
						var d = b.type,
							f = b.fn || ia;
						m[c].find(b.selector).on(d, function(b) {
							b.stopPropagation();
							f(b) && a.hide()
						})
					})
				});
				d = h.find("input[type=text],textarea");
				d.length && d.get(0).focus();
				this.$container = h;
				this._hideOtherPanels();
				w.push(b)
			}
		},
		hide: function() {
			var a = this.menu,
				b = this.$container;
			b && b.remove();
			w = w.filter(function(b) {
				return b === a ? !1 : !0
			})
		},
		_hideOtherPanels: function() {
			w.length && w.forEach(function(a) {
				a = a.panel || {};
				a.hide && a.hide()
			})
		}
	};
	E.prototype = {
		constructor: E,
		onClick: function(a) {
			a = this.editor;
			var b;
			if (this._active) {
				if (b = a.selection.getSelectionContainerElem()) a.selection.createRangeByElem(b), a.selection.restoreSelection(), this._createPanel(b.text(), b.attr("href"))
			} else a.selection.isSelectionEmpty() ? this._createPanel("", "") : this._createPanel(a.selection.getSelectionText(), "")
		},
		_createPanel: function(a, b) {
			var c = this,
				d = l("input-link"),
				f = l("input-text"),
				g = l("btn-ok"),
				h = l("btn-del");
			a = new q(this, {
				width: 300,
				tabs: [{
					title: "链接",
					tpl: '<div>\n         <input id="' + f + '" type="text" class="block" value="' + a + '" placeholder="链接文字"/></td>\n         <input id="' + d + '" type="text" class="block" value="' + b + '" placeholder="http://..."/></td>\n         <div class="w-e-button-container">\n             <button id="' + g + '" class="right">插入</button>\n             <button id="' + h + '" class="gray right" style="display:' + (this._active ? "inline-block" : "none") + '">删除链接</button>\n         </div>\n     </div>',
					events: [{
						selector: "#" + g,
						type: "click",
						fn: function() {
							var a = e("#" + d),
								b = e("#" + f),
								a = a.val(),
								b = b.val();
							c._insertLink(b, a);
							return !0
						}
					}, {
						selector: "#" + h,
						type: "click",
						fn: function() {
							c._delLink();
							return !0
						}
					}]
				}]
			});
			a.show();
			this.panel = a
		},
		_delLink: function() {
			if (this._active) {
				var a = this.editor;
				if (a.selection.getSelectionContainerElem()) {
					var b = a.selection.getSelectionText();
					a.cmd.do("insertHTML", "<span>" + b + "</span>")
				}
			}
		},
		_insertLink: function(a, b) {
			if (a && b) {
				var c = this.editor,
					d = c.config.linkCheck,
					f = !0;
				d && "function" === typeof d && (f = d(a, b));
				!0 === f ? c.cmd.do("insertHTML", '<a href="' + b + '" target="_blank">' + a + "</a>") : show_confirm("系统提示", "error", f, "")
			}
		},
		tryChangeActive: function(a) {
			a = this.$elem;
			var b = this.editor.selection.getSelectionContainerElem();
			b && ("A" === b.getNodeName() ? (this._active = !0, a.addClass("w-e-active")) : (this._active = !1, a.removeClass("w-e-active")))
		}
	};
	F.prototype = {
		constructor: F,
		onClick: function(a) {
			a = this.editor;
			var b = a.selection.isSelectionEmpty();
			b && a.selection.createEmptyRange();
			a.cmd.do("italic");
			b && (a.selection.collapseRange(), a.selection.restoreSelection())
		},
		tryChangeActive: function(a) {
			a = this.$elem;
			this.editor.cmd.queryCommandState("italic") ? (this._active = !0, a.addClass("w-e-active")) : (this._active = !1, a.removeClass("w-e-active"))
		}
	};
	G.prototype = {
		constructor: G,
		onClick: function(a) {
			this.editor.cmd.do("redo")
		}
	};
	H.prototype = {
		constructor: H,
		onClick: function(a) {
			a = this.editor;
			var b = a.selection.isSelectionEmpty();
			b && a.selection.createEmptyRange();
			a.cmd.do("strikeThrough");
			b && (a.selection.collapseRange(), a.selection.restoreSelection())
		},
		tryChangeActive: function(a) {
			a = this.$elem;
			this.editor.cmd.queryCommandState("strikeThrough") ? (this._active = !0, a.addClass("w-e-active")) : (this._active = !1, a.removeClass("w-e-active"))
		}
	};
	I.prototype = {
		constructor: I,
		onClick: function(a) {
			a = this.editor;
			var b = a.selection.isSelectionEmpty();
			b && a.selection.createEmptyRange();
			a.cmd.do("underline");
			b && (a.selection.collapseRange(), a.selection.restoreSelection())
		},
		tryChangeActive: function(a) {
			a = this.$elem;
			this.editor.cmd.queryCommandState("underline") ? (this._active = !0, a.addClass("w-e-active")) : (this._active = !1, a.removeClass("w-e-active"))
		}
	};
	J.prototype = {
		constructor: J,
		onClick: function(a) {
			this.editor.cmd.do("undo")
		}
	};
	K.prototype = {
		constructor: K,
		_command: function(a) {
			var b = this.editor,
				c = b.$textElem;
			b.selection.restoreSelection();
			b.cmd.queryCommandState(a) || (b.cmd.do(a), a = b.selection.getSelectionContainerElem(), "LI" === a.getNodeName() && (a = a.parent()), !1 === /^ol|ul$/i.test(a.getNodeName()) || a.equal(c) || (b = a.parent(), b.equal(c) || (a.insertAfter(b), b.remove())))
		},
		tryChangeActive: function(a) {
			a = this.editor;
			var b = this.$elem;
			a.cmd.queryCommandState("insertUnOrderedList") || a.cmd.queryCommandState("insertOrderedList") ? (this._active = !0, b.addClass("w-e-active")) : (this._active = !1, b.removeClass("w-e-active"))
		}
	};
	L.prototype = {
		constructor: L,
		_command: function(a) {
			this.editor.cmd.do(a)
		}
	};
	M.prototype = {
		constructor: M,
		_command: function(a) {
			var b = this.editor,
				c = b.selection.getSelectionText();
				console.log(c);
			this.editor.cmd.do("insertHTML", '<p style="color:' + a + '">' + c + "</p>")
			// this.editor.cmd.do("foreColor", a)
		}
	};
	N.prototype = {
		constructor: N,
		_command: function(a) {
			this.editor.cmd.do("backColor", a)
		}
	};
	O.prototype = {
		constructor: O,
		onClick: function(a) {
			a = this.editor;
			if (u.isIE()) {
				a = a.selection.getSelectionContainerElem();
				var b;
				"P" === a.getNodeName() ? (b = a.text(), b = e("<blockquote>" + b + "</blockquote>"), b.insertAfter(a), a.remove()) : "BLOCKQUOTE" === a.getNodeName() && (b = a.text(), b = e("<p>" + b + "</p>"), b.insertAfter(a), a.remove())
			} else a.cmd.do("formatBlock", "<BLOCKQUOTE>")
		},
		tryChangeActive: function(a) {
			a = this.$elem;
			var b = this.editor.cmd.queryCommandValue("formatBlock");
			/^BLOCKQUOTE$/i.test(b) ? (this._active = !0, a.addClass("w-e-active")) : (this._active = !1, a.removeClass("w-e-active"))
		}
	};
	P.prototype = {
		constructor: P,
		onClick: function(a) {
			a = this.editor;
			var b = a.selection.getSelectionStartElem(),
				c = a.selection.getSelectionEndElem(),
				d = a.selection.isSelectionEmpty(),
				f = a.selection.getSelectionText();
			b.equal(c) ? d ? this._active ? this._createPanel(b.html()) : this._createPanel() : (b = e("<code>" + f + "</code>"), a.cmd.do("insertElem", b), a.selection.createRangeByElem(b, !1), a.selection.restoreSelection()) : a.selection.restoreSelection()
		},
		_createPanel: function(a) {
			var b = this,
				c = (a = a || "") ? "edit" : "new",
				d = l("texxt"),
				f = l("btn");
			a = new q(this, {
				width: 500,
				tabs: [{
					title: "插入代码",
					tpl: '<div>\n <textarea id="' + d + '" style="height:145px;;">' + a + '</textarea>\n <div class="w-e-button-container">\n <button id="' + f + '" class="right">插入</button>\n </div>\n <div>',
					events: [{
						selector: "#" + f,
						type: "click",
						fn: function() {
							var a = e("#" + d),
								a = a.val() || a.html(),
								a = y(a);
							"new" === c ? b._insertCode(a) : b._updateCode(a);
							return !0
						}
					}]
				}]
			});
			a.show();
			this.panel = a
		},
		_insertCode: function(a) {
			this.editor.cmd.do("insertHTML", "<pre><code>" + a + "</code></pre><p><br></p>")
		},
		_updateCode: function(a) {
			var b = this.editor,
				c = b.selection.getSelectionContainerElem();
			c && (c.html(a), b.selection.restoreSelection())
		},
		tryChangeActive: function(a) {
			a = this.$elem;
			var b = this.editor.selection.getSelectionContainerElem();
			if (b) {
				var c = b.parent();
				"CODE" === b.getNodeName() && "PRE" === c.getNodeName() ? (this._active = !0, a.addClass("w-e-active")) : (this._active = !1, a.removeClass("w-e-active"))
			}
		}
	};
	Q.prototype = {
		constructor: Q,
		onClick: function() {
			this._createPanel()
		},
		_createPanel: function() {
			var a = this,
				b = "";
			"😀 😃 😄 😁 😆 😅 😂  😊 😇 🙂 🙃 😉 😌 😍 😘 😗 😙 😚 😋 😜 😝 😛 🤑 🤗 🤓 😎 😏 😒 😞 😔 😟 😕 🙁  😣 😖 😫 😩 😤 😠 😡 😶 😐 😑 😯 😦 😧 😮 😲 😵 😳 😱 😨 😰 😢 😥 😭 😓 😪 😴 🙄 🤔 😬 🤐".split(/\s/).forEach(function(a) {
				a && (b += '<span class="w-e-item">' + a + "</span>")
			});
			var c = "";
			"🙌 👏 👋 👍 👎 👊 ✊ ️👌 ✋ 👐 💪 🙏 ️👆 👇 👈 👉 🖕 🖐 🤘 🖖".split(/\s/).forEach(function(a) {
				a && (c += '<span class="w-e-item">' + a + "</span>")
			});
			var d = new q(this, {
				width: 300,
				height: 200,
				tabs: [{
					title: "表情",
					tpl: '<div class="w-e-emoticon-container">' + b + "</div>",
					events: [{
						selector: "span.w-e-item",
						type: "click",
						fn: function(b) {
							a._insert(b.target.innerHTML);
							return !0
						}
					}]
				}, {
					title: "手势",
					tpl: '<div class="w-e-emoticon-container">' + c + "</div>",
					events: [{
						selector: "span.w-e-item",
						type: "click",
						fn: function(b) {
							a._insert(b.target.innerHTML);
							return !0
						}
					}]
				}]
			});
			d.show();
			this.panel = d
		},
		_insert: function(a) {
			this.editor.cmd.do("insertHTML", "<span>" + a + "</span>")
		}
	};
	R.prototype = {
		constructor: R,
		onClick: function() {
			this._active ? this._createEditPanel() : this._createInsertPanel()
		},
		_createInsertPanel: function() {
			var a = this,
				b = l("btn"),
				c = l("row"),
				d = l("col"),
				b = new q(this, {
					width: 250,
					tabs: [{
						title: "插入表格",
						tpl: '<div>\n     <p style="text-align:left; padding:5px 0;">\n         创建\n         <input id="' + c + '" type="text" value="5" style="width:40px;text-align:center;"/>\n         行\n         <input id="' + d + '" type="text" value="5" style="width:40px;text-align:center;"/>\n         列的表格\n     </p>\n     <div class="w-e-button-container">\n         <button id="' + b + '" class="right">插入</button>\n     </div>\n </div>',
						events: [{
							selector: "#" + b,
							type: "click",
							fn: function() {
								var b = parseInt(e("#" + c).val()),
									g = parseInt(e("#" + d).val());
								b && g && 0 < b && 0 < g && a._insert(b, g);
								return !0
							}
						}]
					}]
				});
			b.show();
			this.panel = b
		},
		_insert: function(a, b) {
			var c, d, f = '<table border="0" width="100%" cellpadding="0" cellspacing="0">';
			for (c = 0; c < a; c++) {
				f += "<tr>";
				if (0 === c) for (d = 0; d < b; d++) f += "<th>&nbsp;</th>";
				else for (d = 0; d < b; d++) f += "<td>&nbsp;</td>";
				f += "</tr>"
			}
			a = this.editor;
			a.cmd.do("insertHTML", f + "</table><p><br></p>");
			a.cmd.do("enableObjectResizing", !1);
			a.cmd.do("enableInlineTableEditing", !1)
		},
		_createEditPanel: function() {
			var a = this,
				b = l("add-row"),
				c = l("add-col"),
				d = l("del-row"),
				f = l("del-col"),
				e = l("del-table");
			(new q(this, {
				width: 320,
				tabs: [{
					title: "编辑表格",
					tpl: '<div>\n     <div class="w-e-button-container" style="border-bottom:1px solid #f1f1f1;padding-bottom:5px;margin-bottom:5px;">\n         <button id="' + b + '" class="left">增加行</button>\n         <button id="' + d + '" class="red left">删除行</button>\n         <button id="' + c + '" class="left">增加列</button>\n         <button id="' + f + '" class="red left">删除列</button>\n     </div>\n     <div class="w-e-button-container">\n         <button id="' + e + '" class="gray left">删除表格</button>\n     </dv>\n </div>',
					events: [{
						selector: "#" + b,
						type: "click",
						fn: function() {
							a._addRow();
							return !0
						}
					}, {
						selector: "#" + c,
						type: "click",
						fn: function() {
							a._addCol();
							return !0
						}
					}, {
						selector: "#" + d,
						type: "click",
						fn: function() {
							a._delRow();
							return !0
						}
					}, {
						selector: "#" + f,
						type: "click",
						fn: function() {
							a._delCol();
							return !0
						}
					}, {
						selector: "#" + e,
						type: "click",
						fn: function() {
							a._delTable();
							return !0
						}
					}]
				}]
			})).show()
		},
		_getLocationData: function() {
			var a = {},
				b = this.editor.selection.getSelectionContainerElem();
			if (b) {
				var c = b.getNodeName();
				if ("TD" === c || "TH" === c) {
					var d = b.parent(),
						c = d.children(),
						f = c.length;
					c.forEach(function(c, d) {
						if (c === b[0]) return a.td = {
							index: d,
							elem: c,
							length: f
						}, !1
					});
					var c = d.parent().children(),
						e = c.length;
					c.forEach(function(b, c) {
						if (b === d[0]) return a.tr = {
							index: c,
							elem: b,
							length: e
						}, !1
					});
					return a
				}
			}
		},
		_addRow: function() {
			var a = this._getLocationData();
			if (a) {
				var b = e(a.tr.elem),
					a = a.td.length,
					c = document.createElement("tr"),
					d = "",
					f;
				for (f = 0; f < a; f++) d += "<td>&nbsp;</td>";
				c.innerHTML = d;
				e(c).insertAfter(b)
			}
		},
		_addCol: function() {
			var a = this._getLocationData();
			if (a) {
				var b = a.td.index;
				e(a.tr.elem).parent().children().forEach(function(a) {
					a = e(a).children().get(b);
					var c = a.getNodeName().toLowerCase(),
						c = document.createElement(c);
					e(c).insertAfter(a)
				})
			}
		},
		_delRow: function() {
			var a = this._getLocationData();
			a && e(a.tr.elem).remove()
		},
		_delCol: function() {
			var a = this._getLocationData();
			if (a) {
				var b = a.td.index;
				e(a.tr.elem).parent().children().forEach(function(a) {
					e(a).children().get(b).remove()
				})
			}
		},
		_delTable: function() {
			var a = this.editor.selection.getSelectionContainerElem();
			a && (a = a.parentUntil("table")) && a.remove()
		},
		tryChangeActive: function(a) {
			a = this.$elem;
			var b = this.editor.selection.getSelectionContainerElem();
			b && (b = b.getNodeName(), "TD" === b || "TH" === b ? (this._active = !0, a.addClass("w-e-active")) : (this._active = !1, a.removeClass("w-e-active")))
		}
	};
	S.prototype = {
		constructor: S,
		onClick: function() {
			this._createPanel()
		},
		_createPanel: function() {
			var a = this,
				b = l("text-val"),
				c = l("btn"),
				c = new q(this, {
					width: 350,
					tabs: [{
						title: "插入视频",
						tpl: '<div>\n     <input id="' + b + '" type="text" class="block" placeholder="格式如：<iframe src=... ></iframe>"/>\n     <div class="w-e-button-container">\n         <button id="' + c + '" class="right">插入</button>\n     </div>\n </div>',
						events: [{
							selector: "#" + c,
							type: "click",
							fn: function() {
								var c = e("#" + b).val().trim();
								c && a._insert(c);
								return !0
							}
						}]
					}]
				});
			c.show();
			this.panel = c
		},
		_insert: function(a) {
			this.editor.cmd.do("insertHTML", a + "<p><br></p>")
		}
	};
	T.prototype = {
		constructor: T,
		onClick: function() {
			this.editor.config.qiniu || (this._active ? this._createEditPanel() : this._createInsertPanel())
		},
		_createEditPanel: function() {
			var a = this.editor,
				b = l("width-30"),
				c = l("width-50"),
				d = l("width-100"),
				f = l("del-btn"),
				b = new q(this, {
					width: 300,
					tabs: [{
						title: "编辑图片",
						tpl: '<div>\n <div class="w-e-button-container" style="border-bottom:1px solid #f1f1f1;padding-bottom:5px;margin-bottom:5px;">\n <span style="float:left;font-size:14px;margin:4px 5px 0 5px;color:#333;">最大宽度：</span>\n     <button id="' + b + '" class="left">30%</button>\n     <button id="' + c + '" class="left">50%</button>\n     <button id="' + d + '" class="left">100%</button>\n </div>\n <div class="w-e-button-container">\n     <button id="' + f + '" class="gray left">删除图片</button>\n </dv>\n         </div>',
						events: [{
							selector: "#" + b,
							type: "click",
							fn: function() {
								var b = a._selectedImg;
								b && b.css("max-width", "30%");
								return !0
							}
						}, {
							selector: "#" + c,
							type: "click",
							fn: function() {
								var b = a._selectedImg;
								b && b.css("max-width", "50%");
								return !0
							}
						}, {
							selector: "#" + d,
							type: "click",
							fn: function() {
								var b = a._selectedImg;
								b && b.css("max-width", "100%");
								return !0
							}
						}, {
							selector: "#" + f,
							type: "click",
							fn: function() {
								var b = a._selectedImg;
								b && b.remove();
								return !0
							}
						}]
					}]
				});
			b.show();
			this.panel = b
		},
		_createInsertPanel: function() {
			var a = this.editor,
				b = a.uploadImg,
				a = a.config,
				c = l("up-trigger"),
				d = l("up-file"),
				f = l("link-url"),
				g = l("link-btn"),
				c = [{
					title: "上传图片",
					tpl: '<div class="w-e-up-img-container">\n <div id="' + c + '" class="w-e-up-btn">\n     <i class="w-e-icon-upload2"></i>\n </div>\n <div style="display:none;">\n     <input id="' + d + '" type="file" multiple="multiple" accept="image/jpg,image/jpeg,image/png,image/gif,image/bmp"/>\n </div>\n         </div>',
					events: [{
						selector: "#" + c,
						type: "click",
						fn: function() {
							var a = e("#" + d)[0];
							if (a) a.click();
							else return !0
						}
					}, {
						selector: "#" + d,
						type: "change",
						fn: function() {
							var a = e("#" + d)[0];
							if (!a) return !0;
							a = a.files;
							a.length && b.uploadImg(a);
							return !0
						}
					}]
				}, {
					title: "网络图片",
					tpl: '<div>\n <input id="' + f + '" type="text" class="block" placeholder="图片链接"/></td>\n <div class="w-e-button-container">\n     <button id="' + g + '" class="right">插入</button>\n </div>\n         </div>',
					events: [{
						selector: "#" + g,
						type: "click",
						fn: function() {
							var a = e("#" + f).val().trim();
							a && b.insertLinkImg(a);
							return !0
						}
					}]
				}],
				g = [];
			(a.uploadImgShowBase64 || a.uploadImgServer || a.customUploadImg) && window.FileReader && g.push(c[0]);
			a.showLinkImg && g.push(c[1]);
			a = new q(this, {
				width: 300,
				tabs: g
			});
			a.show();
			this.panel = a
		},
		tryChangeActive: function(a) {
			a = this.$elem;
			this.editor._selectedImg ? (this._active = !0, a.addClass("w-e-active")) : (this._active = !1, a.removeClass("w-e-active"))
		}
	};
	var k = {};
	k.bold = C;
	k.head = D;
	k.link = E;
	k.italic = F;
	k.redo = G;
	k.strikeThrough = H;
	k.underline = I;
	k.undo = J;
	k.list = K;
	k.justify = L;
	k.foreColor = M;
	k.backColor = N;
	k.quote = O;
	k.code = P;
	k.emoticon = Q;
	k.table = R;
	k.video = S;
	k.image = T;
	U.prototype = {
		constructor: U,
		init: function() {
			var a = this,
				b = this.editor;
			((b.config || {}).menus || []).forEach(function(c) {
				var d = k[c];
				d && "function" === typeof d && (a.menus[c] = new d(b))
			});
			this._addToToolbar();
			this._bindEvent()
		},
		_addToToolbar: function() {
			var a = this.editor,
				b = a.$toolbarElem,
				c = a.config.zIndex + 1;
			x(this.menus, function(a, f) {
				if (a = f.$elem) a.css("z-index", c), b.append(a)
			})
		},
		_bindEvent: function() {
			var a = this.editor;
			x(this.menus, function(b, c) {
				if (b = c.type) {
					var d = c.$elem,
						f = c.droplist;
					if ("click" === b && c.onClick) d.on("click", function(b) {
						if (null != a.selection.getRange()) c.onClick(b)
					});
					if ("droplist" === b && f) d.on("mouseenter", function(b) {
						null != a.selection.getRange() && (f.showTimeoutId = setTimeout(function() {
							f.show()
						}, 200))
					}).on("mouseleave", function(a) {
						f.hideTimeoutId = setTimeout(function() {
							f.hide()
						}, 0)
					});
					if ("panel" === b && c.onClick) d.on("click", function(b) {
						b.stopPropagation();
						if (null != a.selection.getRange()) c.onClick(b)
					})
				}
			})
		},
		changeActive: function() {
			x(this.menus, function(a, b) {
				b.tryChangeActive && setTimeout(function() {
					b.tryChangeActive()
				}, 100)
			})
		}
	};
	V.prototype = {
		constructor: V,
		init: function() {
			this._bindEvent()
		},
		clear: function() {
			this.html("<p><br></p>")
		},
		html: function(a) {
			var b = this.editor,
				c = b.$textElem;
			if (null == a) return c.html();
			c.html(a);
			b.initSelection()
		},
		text: function(a) {
			var b = this.editor,
				c = b.$textElem;
			if (null == a) return c.text();
			c.text("<p>" + a + "</p>");
			b.initSelection()
		},
		append: function(a) {
			var b = this.editor;
			b.$textElem.append(e(a));
			b.initSelection()
		},
		_bindEvent: function() {
			this._saveRangeRealTime();
			this._enterKeyHandle();
			this._clearHandle();
			this._pasteHandle();
			this._tabHandle();
			this._imgHandle();
			this._dragHandle()
		},
		_saveRangeRealTime: function() {
			function a(a) {
				b.selection.saveRange();
				b.menus.changeActive()
			}
			var b = this.editor,
				c = b.$textElem;
			c.on("keyup", a);
			c.on("mousedown", function(b) {
				c.on("mouseleave", a)
			});
			c.on("mouseup", function(b) {
				a();
				c.off("mouseleave", a)
			})
		},
		_enterKeyHandle: function() {
			var a = this.editor,
				b = a.$textElem;
			b.on("keyup", function(c) {
				if (13 === c.keyCode && (c = a.selection.getSelectionContainerElem(), c.parent().equal(b) && "P" !== c.getNodeName() && !c.text())) {
					var d = e("<p><br></p>");
					d.insertBefore(c);
					a.selection.createRangeByElem(d, !0);
					a.selection.restoreSelection();
					c.remove()
				}
			});
			b.on("keydown", function(b) {
				if (13 !== b.keyCode) a._willBreakCode = !1;
				else {
					var c = a.selection.getSelectionContainerElem();
					if (c) {
						var f = c.parent(),
							g = c.getNodeName(),
							h = f.getNodeName();
						"CODE" === g && "PRE" === h && a.cmd.queryCommandSupported("insertHTML") && (!0 === a._willBreakCode ? (c = e("<p><br></p>"), c.insertAfter(f), a.selection.createRangeByElem(c, !0), a.selection.restoreSelection(), a._willBreakCode = !1) : (f = a.selection.getRange().startOffset, a.cmd.do("insertHTML", "\n"), a.selection.saveRange(), a.selection.getRange().startOffset === f && a.cmd.do("insertHTML", "\n"), c = c.html().length, a.selection.getRange().startOffset + 1 === c && (a._willBreakCode = !0)), b.preventDefault())
					}
				}
			})
		},
		_clearHandle: function() {
			var a = this.editor,
				b = a.$textElem;
			b.on("keydown", function(a) {
				8 === a.keyCode && "<p><br></p>" === b.html().toLowerCase().trim() && a.preventDefault()
			});
			b.on("keyup", function(c) {
				8 === c.keyCode && (c = b.html().toLowerCase().trim(), c && "<br>" !== c || (c = e("<p><br/></p>"), b.html(""), b.append(c), a.selection.createRangeByElem(c, !1, !0), a.selection.restoreSelection()))
			})
		},
		_pasteHandle: function() {
			var a = this.editor,
				b = a.config.pasteFilterStyle,
				c = a.$textElem;
			c.on("paste", function(c) {
				if (!u.isIE()) {
					c.preventDefault();
					var d = c.clipboardData || c.originalEvent && c.originalEvent.clipboardData,
						e, h = void 0;
					null == d ? e = window.clipboardData && window.clipboardData.getData("text") : (e = d.getData("text/plain"), h = d.getData("text/html"));
					!h && e && (h = "<p>" + y(e) + "</p>");
					h && (d = h.split("</html>"), 2 === d.length && (h = d[0]), h = h.replace(/<(meta|script|link).+?>/igm, ""), h = h.replace(/<!--.*?-->/mg, ""), b ? h.replace(/\s?(class|style)=('|").+?('|")/igm, "") : h.replace(/\s?class=('|").+?('|")/igm, ""));
					c = ca(c);
					c = c.replace(/\n/gm, "<br>");
					if (h = a.selection.getSelectionContainerElem()) h.getNodeName(), a.cmd.do("insertHTML", "<p>" + c + "</p>")
				}
			});
			c.on("paste", function(b) {
				if (!u.isIE() && (b.preventDefault(), (b = fa(b)) && b.length)) {
					var c = a.selection.getSelectionContainerElem();
					c && (c = c.getNodeName(), "CODE" !== c && "PRE" !== c && a.uploadImg.uploadImg(b))
				}
			})
		},
		_tabHandle: function() {
			var a = this.editor;
			a.$textElem.on("keydown", function(b) {
				if (9 === b.keyCode && a.cmd.queryCommandSupported("insertHTML")) {
					var c = a.selection.getSelectionContainerElem();
					if (c) {
						var d = c.parent(),
							c = c.getNodeName(),
							d = d.getNodeName();
						"CODE" === c && "PRE" === d ? a.cmd.do("insertHTML", "    ") : a.cmd.do("insertHTML", "&nbsp;&nbsp;&nbsp;&nbsp;");
						b.preventDefault()
					}
				}
			})
		},
		_imgHandle: function() {
			var a = this.editor,
				b = a.$textElem;
			b.on("click", "img", function(c) {
				c = e(this);
				b.find("img").removeClass("w-e-selected");
				c.addClass("w-e-selected");
				a._selectedImg = c;
				a.selection.createRangeByElem(c)
			});
			b.on("click  keyup", function(c) {
				c.target.matches("img") || (b.find("img").removeClass("w-e-selected"), a._selectedImg = null)
			})
		},
		_dragHandle: function() {
			var a = this.editor;
			e(document).on("dragleave drop dragenter dragover", function(a) {
				a.preventDefault()
			});
			a.$textElem.on("drop", function(b) {
				b.preventDefault();
				(b = b.dataTransfer && b.dataTransfer.files) && b.length && a.uploadImg.uploadImg(b)
			})
		}
	};
	W.prototype = {
		constructor: W,
		do: function(a, b) {
			var c = this.editor;
			if (c.selection.getRange()) {
				c.selection.restoreSelection();
				var d = "_" + a;
				if (this[d]) this[d](b);
				else this._execCommand(a, b);
				c.menus.changeActive();
				c.selection.saveRange();
				c.selection.restoreSelection();
				b = !1;
				0 <= ["insertOrderedList", "insertUnorderedList"].indexOf(a) && (b = !0);
				c.change && c.change(b)
			}
		},
		_insertHTML: function(a) {
			var b = this.editor.selection.getRange();
			this.queryCommandSupported("insertHTML") ? this._execCommand("insertHTML", a) : b.insertNode ? (b.deleteContents(), b.insertNode(e(a)[0])) : b.pasteHTML && b.pasteHTML(a)
		},
		_insertElem: function(a) {
			var b = this.editor.selection.getRange();
			b.insertNode && (b.deleteContents(), b.insertNode(a[0]))
		},
		_execCommand: function(a, b) {
			document.execCommand(a, !1, b)
		},
		queryCommandValue: function(a) {
			return document.queryCommandValue(a)
		},
		queryCommandState: function(a) {
			return document.queryCommandState(a)
		},
		queryCommandSupported: function(a) {
			return document.queryCommandSupported(a)
		}
	};
	X.prototype = {
		constructor: X,
		getRange: function() {
			return this._currentRange
		},
		saveRange: function(a) {
			if (a) this._currentRange = a;
			else if (a = window.getSelection(), 0 !== a.rangeCount) {
				a = a.getRangeAt(0);
				var b = this.getSelectionContainerElem(a);
				b && this.editor.$textElem.isContain(b) && (this._currentRange = a)
			}
		},
		collapseRange: function(a) {
			null == a && (a = !1);
			var b = this._currentRange;
			b && b.collapse(a)
		},
		getSelectionText: function() {
			return this._currentRange ? this._currentRange.toString() : ""
		},
		getSelectionContainerElem: function(a) {
			if (a = a || this._currentRange) return a = a.commonAncestorContainer, e(1 === a.nodeType ? a : a.parentNode)
		},
		getSelectionStartElem: function(a) {
			if (a = a || this._currentRange) return a = a.startContainer, e(1 === a.nodeType ? a : a.parentNode)
		},
		getSelectionEndElem: function(a) {
			if (a = a || this._currentRange) return a = a.endContainer, e(1 === a.nodeType ? a : a.parentNode)
		},
		isSelectionEmpty: function() {
			var a = this._currentRange;
			return a && a.startContainer && a.startContainer === a.endContainer && a.startOffset === a.endOffset ? !0 : !1
		},
		restoreSelection: function() {
			var a = window.getSelection();
			a.removeAllRanges();
			a.addRange(this._currentRange)
		},
		createEmptyRange: function() {
			var a = this.editor,
				b = this.getRange(),
				c = void 0;
			if (b && this.isSelectionEmpty()) try {
				u.isWebkit() ? (a.cmd.do("insertHTML", "&#8203;"), b.setEnd(b.endContainer, b.endOffset + 1), this.saveRange(b)) : (c = e("<strong>&#8203;</strong>"), a.cmd.do("insertElem", c), this.createRangeByElem(c, !0))
			} catch (d) {}
		},
		createRangeByElem: function(a, b, c) {
			if (a.length) {
				a = a[0];
				var d = document.createRange();
				c ? d.selectNodeContents(a) : d.selectNode(a);
				"boolean" === typeof b && d.collapse(b);
				this.saveRange(d)
			}
		}
	};
	Y.prototype = {
		constructor: Y,
		show: function(a) {
			var b = this;
			if (!this._isShow) {
				this._isShow = !0;
				var c = this.$bar;
				this._isRender ? this._isRender = !0 : this.$textContainer.append(c);
				100 < Date.now() - this._time && 1 >= a && (c.css("width", 100 * a + "%"), this._time = Date.now());
				(a = this._timeoutId) && clearTimeout(a);
				a = setTimeout(function() {
					b._hide()
				}, 500)
			}
		},
		_hide: function() {
			this.$bar.remove();
			this._time = 0;
			this._isRender = this._isShow = !1
		}
	};
	var da = "function" === typeof Symbol && "symbol" === typeof Symbol.iterator ?
	function(a) {
		return typeof a
	} : function(a) {
		return a && "function" === typeof Symbol && a.constructor === Symbol && a !== Symbol.prototype ? "symbol" : typeof a
	};
	Z.prototype = {
		constructor: Z,
		insertLinkImg: function(a) {
			if (a) {
				var b = this.editor,
					c = b.config;
				b.cmd.do("insertHTML", '<img src="' + a + '" style="max-width:100%;"/>');
				var d = document.createElement("img");
				d.onload = function() {
					var b = c.linkImgCallback;
					b && "function" === typeof b && b(a);
					d = null
				};
				d.onerror = function() {
					d = null;
					show_confirm("系统提示", "error", "插入图片错误", "")
				};
				d.onabort = function() {
					d = null
				};
				d.src = a
			}
		},
		uploadImg: function(a) {
			var b = this;
			if (a && a.length) {
				var c = this.editor,
					d = c.config,
					e = d.uploadImgServer,
					g = d.uploadImgShowBase64,
					h = d.uploadImgMaxSize,
					l = h / 1E3 / 1E3,
					k = d.uploadImgMaxLength || 1E4,
					q = d.uploadFileName || "",
					m = d.uploadImgParams || {},
					t = d.uploadImgParamsWithUrl,
					w = d.uploadImgHeaders || {},
					n = d.uploadImgHooks || {},
					z = d.uploadImgTimeout || 3E3,
					v = d.withCredentials;
				null == v && (v = !1);
				if ((d = d.customUploadImg) || e || g) {
					var A = [],
						u = [];
					B(a, function(a) {
						var b = a.name,
							c = a.size;
						b && c && (!1 === /\.(jpg|jpeg|png|bmp|gif)$/i.test(b) ? u.push("【" + b + "】不是图片") : h < c ? u.push("【" + b + "】大于 " + l + "M") : A.push(a))
					});
					if (u.length) show_confirm("系统提示", "error", "图片验证未通过" + u.join("\n"), "");
					else if (A.length > k) show_confirm("系统提示", "error", "一次最多上传" + k + "张图片", "");
					else if (d && "function" === typeof d) d(A, this.insertLinkImg.bind(this));
					else {
						var y = new FormData;
						B(A, function(a) {
							y.append(q || a.name, a)
						});
						if (e && "string" === typeof e) {
							a = e.split("#");
							e = a[0];
							a = a[1] || "";
							x(m, function(a, b) {
								b = encodeURIComponent(b);
								t && (e = 0 < e.indexOf("?") ? e + "&" : e + "?", e = e + a + "=" + b);
								y.append(a, b)
							});
							a && (e += "#" + a);
							var p = new XMLHttpRequest;
							p.open("POST", e);
							p.timeout = z;
							p.ontimeout = function() {
								n.timeout && "function" === typeof n.timeout && n.timeout(p, c);
								show_confirm("系统提示", "error", "上传图片超时", "")
							};
							p.upload && (p.upload.onprogress = function(a) {
								var b = new Y(c);
								a.lengthComputable && (a = a.loaded / a.total, b.show(a))
							});
							p.onreadystatechange = function() {
								var a = void 0;
								if (4 === p.readyState) if (200 > p.status || 300 <= p.status) n.error && "function" === typeof n.error && n.error(p, c), show_confirm("系统提示", "error", "上传图片发生错误，服务器返回状态是" + p.status, "");
								else {
									a = p.responseText;
									if ("object" !== ("undefined" === typeof a ? "undefined" : da(a))) try {
										a = JSON.parse(a)
									} catch (ja) {
										n.fail && "function" === typeof n.fail && n.fail(p, c, a);
										show_confirm("系统提示", "error", a, "");
										return
									}
									n.customInsert || "success" == a.errno ? (n.customInsert && "function" === typeof n.customInsert ? n.customInsert(b.insertLinkImg.bind(b), a, c) : (a.data || []).forEach(function(a) {
										b.insertLinkImg(a)
									}), n.success && "function" === typeof n.success && n.success(p, c, a)) : (n.fail && "function" === typeof n.fail && n.fail(p, c, a), show_confirm("系统提示", "error", a.errno, ""))
								}
							};
							if (n.before && "function" === typeof n.before && (m = n.before(p, c, A)) && "object" === ("undefined" === typeof m ? "undefined" : da(m)) && m.prevent) {
								show_confirm("系统提示", "error", m.msg, "");
								return
							}
							x(w, function(a, b) {
								p.setRequestHeader(a, b)
							});
							p.withCredentials = v;
							p.send(y)
						} else g && B(a, function(a) {
							var c = new FileReader;
							c.readAsDataURL(a);
							c.onload = function() {
								b.insertLinkImg(this.result)
							}
						})
					}
				}
			}
		}
	};
	var ga = 1;
	aa.prototype = {
		constructor: aa,
		_initConfig: function() {
			this.config = Object.assign({}, ha, this.customConfig);
			var a = [];
			x(this.config.lang || {}, function(b, c) {
				a.push({
					reg: new RegExp(b, "img"),
					val: c
				})
			});
			this.config.langArgs = a
		},
		_initDom: function() {
			var a = this,
				b = e(this.toolbarSelector),
				c = this.textSelector,
				d = this.config,
				f = d.zIndex,
				g = void 0,
				h = void 0,
				k = void 0,
				m = void 0;
			null == c ? (g = e("<div></div>"), h = e("<div></div>"), m = b.children(), b.append(g).append(h), g.css("background-color", "#f1f1f1").css("border", "1px solid #ccc"), h.css("border", "1px solid #ccc").css("border-top", "none").css("height", "200px")) : (g = b, h = e(c), m = h.children());
			k = e("<div></div>");
			k.attr("contenteditable", "true").css("width", "100%").css("height", "100%");
			m && m.length ? k.append(m) : k.append(e("<p><br></p>"));
			h.append(k);
			g.addClass("w-e-toolbar");
			h.addClass("w-e-text-container");
			h.css("z-index", f);
			k.addClass("w-e-text");
			c = l("toolbar-elem");
			g.attr("id", c);
			f = l("text-elem");
			k.attr("id", f);
			this.$toolbarElem = g;
			this.$textContainerElem = h;
			this.$textElem = k;
			this.toolbarElemId = c;
			this.textElemId = f;
			h.on("click keyup", function() {
				a.change && a.change()
			});
			g.on("click", function() {
				this.change && this.change()
			});
			if (d.onfocus || d.onblur) this.isFocus = !1, e(document).on("click", function(c) {
				b.isContain(e(c.target)) ? (a.isFocus || a.onfocus && a.onfocus(), a.isFocus = !0) : (a.isFocus && a.onblur && a.onblur(), a.isFocus = !1)
			})
		},
		_initCommand: function() {
			this.cmd = new W(this)
		},
		_initSelectionAPI: function() {
			this.selection = new X(this)
		},
		_initUploadImg: function() {
			this.uploadImg = new Z(this)
		},
		_initMenus: function() {
			this.menus = new U(this);
			this.menus.init()
		},
		_initText: function() {
			this.txt = new V(this);
			this.txt.init()
		},
		initSelection: function(a) {
			var b = this.$textElem,
				c = b.children();
			if (c.length) {
				c = c.last();
				if (a) {
					a = c.html().toLowerCase();
					var d = c.getNodeName();
					if ("<br>" !== a && "<br/>" !== a || "P" !== d) {
						b.append(e("<p><br></p>"));
						this.initSelection();
						return
					}
				}
				this.selection.createRangeByElem(c, !1, !0);
				this.selection.restoreSelection()
			} else b.append(e("<p><br></p>")), this.initSelection()
		},
		_bindEvent: function() {
			var a = 0,
				b = this.txt.html(),
				c = this.config,
				d = c.onchangeTimeout,
				d = parseInt(d, 10);
			if (!d || 0 >= d) d = 200;
			var e = c.onchange;
			e && "function" === typeof e && (this.change = function(c) {
				var f = this.txt.html();
				if (f.length === b.length) if (c) {
					if (f === b) return
				} else return;
				a && clearTimeout(a);
				a = setTimeout(function() {
					e(f);
					b = f
				}, d)
			});
			var g = c.onblur;
			g && "function" === typeof g && (this.onblur = function() {
				var a = this.txt.html();
				g(a)
			});
			var h = c.onfocus;
			h && "function" === typeof h && (this.onfocus = function() {
				h()
			})
		},
		create: function() {
			this._initConfig();
			this._initDom();
			this._initCommand();
			this._initSelectionAPI();
			this._initText();
			this._initMenus();
			this._initUploadImg();
			this.initSelection(!0);
			this._bindEvent()
		}
	};
	try {
		document
	} catch (a) {
		throw Error("请在浏览器环境下运行");
	}(function() {
		"function" != typeof Object.assign && (Object.assign = function(a, b) {
			if (null == a) throw new TypeError("Cannot convert undefined or null to object");
			for (var c = Object(a), d = 1; d < arguments.length; d++) {
				var e = arguments[d];
				if (null != e) for (var g in e) Object.prototype.hasOwnProperty.call(e, g) && (c[g] = e[g])
			}
			return c
		});
		Element.prototype.matches || (Element.prototype.matches = Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector ||
		function(a) {
			a = (this.document || this.ownerDocument).querySelectorAll(a);
			for (var b = a.length; 0 <= --b && a.item(b) !== this;);
			return -1 < b
		})
	})();
	var ba = document.createElement("style");
	ba.type = "text/css";
	ba.innerHTML = '.w-e-toolbar,.w-e-text-container,.w-e-menu-panel {  padding: 0;  margin: 0;  box-sizing: border-box;}.w-e-toolbar *,.w-e-text-container *,.w-e-menu-panel * {  padding: 0;  margin: 0;  box-sizing: border-box;}.w-e-clear-fix:after {  content: "";  display: table;  clear: both;}.w-e-toolbar .w-e-droplist {  position: absolute;  left: 0;  top: 0;  background-color: #fff;  border: 1px solid #f1f1f1;  border-right-color: #ccc;  border-bottom-color: #ccc;}.w-e-toolbar .w-e-droplist .w-e-dp-title {  text-align: center;  color: #999;  line-height: 2;  border-bottom: 1px solid #f1f1f1;  font-size: 13px;}.w-e-toolbar .w-e-droplist ul.w-e-list {  list-style: none;  line-height: 1;}.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item {  color: #333;  padding: 5px 0;}.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item:hover {  background-color: #f1f1f1;}.w-e-toolbar .w-e-droplist ul.w-e-block {  list-style: none;  text-align: left;  padding: 5px;}.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item {  display: inline-block;  *display: inline;  *zoom: 1;  padding: 3px 5px;}.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item:hover {  background-color: #f1f1f1;}@font-face {  font-family: \'w-e-icon\';  src: url(data:application/x-font-woff;charset=utf-8;base64,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) format(\'truetype\');  font-weight: normal;  font-style: normal;}[class^="w-e-icon-"],[class*=" w-e-icon-"] {  /* use !important to prevent issues with browser extensions that change fonts */  font-family: \'w-e-icon\' !important;  speak: none;  font-style: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  line-height: 1;  /* Better Font Rendering =========== */  -webkit-font-smoothing: antialiased;  -moz-osx-font-smoothing: grayscale;}.w-e-icon-close:before {  content: "\\f00d";}.w-e-icon-upload2:before {  content: "\\e9c6";}.w-e-icon-trash-o:before {  content: "\\f014";}.w-e-icon-header:before {  content: "\\f1dc";}.w-e-icon-pencil2:before {  content: "\\e906";}.w-e-icon-paint-brush:before {  content: "\\f1fc";}.w-e-icon-image:before {  content: "\\e90d";}.w-e-icon-play:before {  content: "\\e912";}.w-e-icon-location:before {  content: "\\e947";}.w-e-icon-undo:before {  content: "\\e965";}.w-e-icon-redo:before {  content: "\\e966";}.w-e-icon-quotes-left:before {  content: "\\e977";}.w-e-icon-list-numbered:before {  content: "\\e9b9";}.w-e-icon-list2:before {  content: "\\e9bb";}.w-e-icon-link:before {  content: "\\e9cb";}.w-e-icon-happy:before {  content: "\\e9df";}.w-e-icon-bold:before {  content: "\\ea62";}.w-e-icon-underline:before {  content: "\\ea63";}.w-e-icon-italic:before {  content: "\\ea64";}.w-e-icon-strikethrough:before {  content: "\\ea65";}.w-e-icon-table2:before {  content: "\\ea71";}.w-e-icon-paragraph-left:before {  content: "\\ea77";}.w-e-icon-paragraph-center:before {  content: "\\ea78";}.w-e-icon-paragraph-right:before {  content: "\\ea79";}.w-e-icon-terminal:before {  content: "\\f120";}.w-e-icon-page-break:before {  content: "\\ea68";}.w-e-icon-cancel-circle:before {  content: "\\ea0d";}.w-e-toolbar {  display: -webkit-box;  display: -ms-flexbox;  display: flex;  padding: 0 5px;  /* 单个菜单 */}.w-e-toolbar .w-e-menu {  position: relative;  text-align: center;  padding: 5px 5px;  cursor: pointer;}.w-e-toolbar .w-e-menu i {  color: #999;}.w-e-toolbar .w-e-menu:hover i {  color: #333;}.w-e-toolbar .w-e-active i {  color: #1e88e5;}.w-e-toolbar .w-e-active:hover i {  color: #1e88e5;}.w-e-text-container .w-e-panel-container {  position: absolute;  top: 0;  left: 50%;  border: 1px solid #ccc;  border-top: 0;  box-shadow: 1px 1px 2px #ccc;  color: #333;  background-color: #fff;  /* 为 emotion panel 定制的样式 */  /* 上传图片的 panel 定制样式 */}.w-e-text-container .w-e-panel-container .w-e-panel-close {  position: absolute;  right: 0;  top: 0;  padding: 5px;  margin: 2px 5px 0 0;  cursor: pointer;  color: #999;}.w-e-text-container .w-e-panel-container .w-e-panel-close:hover {  color: #333;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title {  list-style: none;  display: -webkit-box;  display: -ms-flexbox;  display: flex;  font-size: 14px;  margin: 2px 10px 0 10px;  border-bottom: 1px solid #f1f1f1;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title .w-e-item {  padding: 3px 5px;  color: #999;  cursor: pointer;  margin: 0 3px;  position: relative;  top: 1px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title .w-e-active {  color: #333;  border-bottom: 1px solid #333;  cursor: default;  font-weight: 700;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content {  padding: 10px 15px 10px 15px;  font-size: 16px;  /* 输入框的样式 */  /* 按钮的样式 */}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input:focus,.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea:focus,.w-e-text-container .w-e-panel-container .w-e-panel-tab-content button:focus {  outline: none;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea {  width: 100%;  border: 1px solid #ccc;  padding: 5px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea:focus {  border-color: #1e88e5;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text] {  border: none;  border-bottom: 1px solid #ccc;  font-size: 14px;  height: 20px;  color: #333;  text-align: left;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text].small {  width: 30px;  text-align: center;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text].block {  display: block;  width: 100%;  margin: 10px 0;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text]:focus {  border-bottom: 2px solid #1e88e5;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button {  font-size: 14px;  color: #1e88e5;  border: none;  padding: 5px 10px;  background-color: #fff;  cursor: pointer;  border-radius: 3px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.left {  float: left;  margin-right: 10px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.right {  float: right;  margin-left: 10px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.gray {  color: #999;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.red {  color: #c24f4a;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button:hover {  background-color: #f1f1f1;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container:after {  content: "";  display: table;  clear: both;}.w-e-text-container .w-e-panel-container .w-e-emoticon-container .w-e-item {  cursor: pointer;  font-size: 18px;  padding: 0 3px;  display: inline-block;  *display: inline;  *zoom: 1;}.w-e-text-container .w-e-panel-container .w-e-up-img-container {  text-align: center;}.w-e-text-container .w-e-panel-container .w-e-up-img-container .w-e-up-btn {  display: inline-block;  *display: inline;  *zoom: 1;  color: #999;  cursor: pointer;  font-size: 60px;  line-height: 1;}.w-e-text-container .w-e-panel-container .w-e-up-img-container .w-e-up-btn:hover {  color: #333;}.w-e-text-container {  position: relative;}.w-e-text-container .w-e-progress {  position: absolute;  background-color: #1e88e5;  bottom: 0;  left: 0;  height: 1px;}.w-e-text {  padding: 0 10px;  overflow-y: scroll;}.w-e-text p,.w-e-text h1,.w-e-text h2,.w-e-text h3,.w-e-text h4,.w-e-text h5,.w-e-text table,.w-e-text pre {  margin: 10px 0;  line-height: 1.5;}.w-e-text ul,.w-e-text ol {  margin: 10px 0 10px 20px;}.w-e-text blockquote {  display: block;  border-left: 8px solid #d0e5f2;  padding: 5px 10px;  margin: 10px 0;  line-height: 1.4;  font-size: 100%;  background-color: #f1f1f1;}.w-e-text code {  display: inline-block;  *display: inline;  *zoom: 1;  background-color: #f1f1f1;  border-radius: 3px;  padding: 3px 5px;  margin: 0 3px;}.w-e-text pre code {  display: block;}.w-e-text table {  border-top: 1px solid #ccc;  border-left: 1px solid #ccc;}.w-e-text table td,.w-e-text table th {  border-bottom: 1px solid #ccc;  border-right: 1px solid #ccc;  padding: 3px 5px;}.w-e-text table th {  border-bottom: 2px solid #ccc;  text-align: center;}.w-e-text:focus {  outline: none;}.w-e-text img {  cursor: pointer;}.w-e-text img:hover {  box-shadow: 0 0 5px #333;}.w-e-text img.w-e-selected {  border: 2px solid #1e88e5;}.w-e-text img.w-e-selected:hover {  box-shadow: none;}';
	document.getElementsByTagName("HEAD").item(0).appendChild(ba);
	return window.wangEditor || aa
});